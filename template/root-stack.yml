AWSTemplateFormatVersion: "2010-09-09"
#  _____                 _     _____  _                 _
# |  __ \               | |   / ____|| |               | |
# | |__) |  ___    ___  | |_ | (___  | |_   __ _   ___ | | __
# |  _  /  / _ \  / _ \ | __| \___ \ | __| / _` | / __|| |/ /
# | | \ \ | (_) || (_) || |_  ____) || |_ | (_| || (__ |   <
# |_|  \_\ \___/  \___/  \__||_____/  \__| \__,_| \___||_|\_\
Parameters: 
  TemplateVPC:
    Type: String
    Default: ./child_stack_template/vpc.yml # todo upload s3
  TemplateSG:
    Type: String
    Default: ./child_stack_template/securitygroup.yml # todo upload s3
Resources:
  VPC:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Ref TemplateVPC
  SecurityGp:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Ref TemplateSG
      Parameters: 
        VPCId: !ImportValue CreateVpc
    DependsOn: VPC
Outputs:
  VPCId:
    Value: !GetAtt VPC.Outputs.VPCId
    Description: VPC CIDR Block
